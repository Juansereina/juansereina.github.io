---
import { formatDate } from '../utils/date';
export interface Props {
  title: string;
  href: string;
  src: string;
  srcset: string;
  alt: string;
  readingTime: number;
  publishedAt: Date;
  classes?: string;
}

const { href, title, src, alt, publishedAt, readingTime, classes, srcset } =
  Astro.props;
---

<li class={`flex-1 text-gray-400 group ${classes}`}>
  <a href={href} class="w-full text-sm sm:text-base">
    <picture class="mb-2">
      <source
        media="(min-width: 640px)"
        srcset="
          https://ik.imagekit.io/juansereina/tr:w-300/web/reading-time.jpg 1x,
          https://ik.imagekit.io/juansereina/tr:w-600/web/reading-time.jpg 2x,
          https://ik.imagekit.io/juansereina/tr:w-900/web/reading-time.jpg 3x
        "
        class="hidden"
      />
      <source
        media="(max-width: 639px)"
        srcset={`
          https://ik.imagekit.io/juansereina/tr:w-650/web/reading-time.jpg 1x,
          https://ik.imagekit.io/juansereina/tr:w-1300/web/reading-time.jpg 2x,
          https://ik.imagekit.io/juansereina/tr:w-1950/web/reading-time.jpg 3x
        `}
      />
      <img
        class="w-full border border-gray-700"
        src={src}
        alt={alt}
        loading="lazy"
      />
    </picture>

    <time class="capitalize" datetime={publishedAt.toISOString()}
      >{formatDate(publishedAt)}</time
    >
    <span>â€” {readingTime} mins de lectura</span>
    <h3 class="mt-2 group-hover:underline decoration-cyan-300">
      {title}
    </h3>
  </a>
</li>
